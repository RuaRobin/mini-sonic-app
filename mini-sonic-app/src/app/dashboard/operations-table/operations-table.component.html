<div class="table-container">

    <!-- Filter -->
    <div class="table-header">
        <h2 class="table-title">Operations</h2>
        <mat-form-field appearance="outline" class="filter-field">
            <mat-label>Search</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="Type to filter..." />
            <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
    </div>

    <!-- Table -->
    <div class="mat-elevation-z1 table-wrapper">
        <table mat-table [dataSource]="dataSource" matSort>

            <!-- ID -->
            <ng-container matColumnDef="operationID">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
                <td mat-cell *matCellDef="let row"> {{ row.operationID }} </td>
            </ng-container>

            <!-- Type -->
            <ng-container matColumnDef="operationType">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Type </th>
                <td mat-cell *matCellDef="let row">
                    <span class="type-badge" [ngClass]="row.operationType.toLowerCase()">
                        {{ row.operationType }}
                    </span>
                </td>
            </ng-container>

            <!-- Customer -->
            <ng-container matColumnDef="operationCustomer">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Customer </th>
                <td mat-cell *matCellDef="let row"> {{ row.operationCustomer }} </td>
            </ng-container>

            <!-- Date -->
            <ng-container matColumnDef="operationDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Date </th>
                <td mat-cell *matCellDef="let row"> {{ row.operationDate | date:'mediumDate' }} </td>
            </ng-container>

            <!-- Net Total -->
            <ng-container matColumnDef="netTotal">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Net Total </th>
                <td mat-cell *matCellDef="let row"> {{ row.netTotal | currency }} </td>
            </ng-container>

            <!-- Gross Total -->
            <ng-container matColumnDef="grossTotal">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Gross Total </th>
                <td mat-cell *matCellDef="let row"> {{ row.grossTotal | currency }} </td>
            </ng-container>

            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef>Actions</th>
                <td mat-cell *matCellDef="let row">
                    <div class="action-btn">
                        <button class="action-btn edit" (click)="onEdit(row)" matTooltip="Edit">
                            <mat-icon>edit</mat-icon>
                        </button>
                        <button class="action-btn delete" (click)="onDelete(row)" matTooltip="delete">
                            <mat-icon>delete</mat-icon>
                        </button>
                    </div>
                </td>
            </ng-container>




            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row (click)= "onViewOperation()" *matRowDef="let row; columns: displayedColumns;"></tr>

            <!-- No results row -->
            <tr class="mat-row no-data-row" *matNoDataRow>
                <td class="mat-cell" [colSpan]="displayedColumns.length">
                    No results matching <strong>{{ dataSource.filter }}</strong>
                </td>
            </tr>

        </table>

        <mat-paginator [pageSizeOptions]="[5, 10, 25]" showFirstLastButtons aria-label="Select page">
        </mat-paginator>
    </div>

</div>